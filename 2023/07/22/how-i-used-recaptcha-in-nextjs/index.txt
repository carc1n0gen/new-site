1:HL["/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2",{"as":"font","type":"font/woff2"}]
2:HL["/_next/static/css/35ea4cf9a225d828.css",{"as":"style"}]
0:["Bl0EGTj6avV-wc-iFNNiH",[[["",{"children":[["year","2023","d"],{"children":[["month","07","d"],{"children":[["day","22","d"],{"children":[["slug","how-i-used-recaptcha-in-nextjs","d"],{"children":["__PAGE__?{\"year\":\"2023\",\"month\":\"07\",\"day\":\"22\",\"slug\":\"how-i-used-recaptcha-in-nextjs\"}",{}]}]}]}]}]},"$undefined","$undefined",true],"$L3",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/35ea4cf9a225d828.css","precedence":"next"}]],["$L4",["$","meta",null,{"name":"next-size-adjust"}]]]]]]
5:I{"id":304,"chunks":["95:static/chunks/95-50505accd77bb7f4.js","185:static/chunks/app/layout-a1388921cc10a593.js"],"name":"","async":false}
6:I{"id":7095,"chunks":["95:static/chunks/95-50505accd77bb7f4.js","224:static/chunks/224-dafab8115ea515fd.js","106:static/chunks/app/[year]/[month]/[day]/[slug]/page-87024f47ad3ba280.js"],"name":"","async":false}
8:I{"id":9180,"chunks":["272:static/chunks/webpack-8dd3a21850ec11ae.js","253:static/chunks/bce60fc1-ac9ca0033a301708.js","698:static/chunks/698-d6fab8c76027dc07.js"],"name":"default","async":false}
9:I{"id":2306,"chunks":["272:static/chunks/webpack-8dd3a21850ec11ae.js","253:static/chunks/bce60fc1-ac9ca0033a301708.js","698:static/chunks/698-d6fab8c76027dc07.js"],"name":"default","async":false}
c:I{"id":7409,"chunks":["95:static/chunks/95-50505accd77bb7f4.js","185:static/chunks/app/layout-a1388921cc10a593.js"],"name":"","async":false}
7:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2zb:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z3:[["$","html",null,{"lang":"en","className":"bg-[#fff] text-zinc-500","children":[["$","link",null,{"rel":"alternate","type":"application/atom+xml","title":"Atom Feed for Carson's Blog","href":"/feed.xml"}],["$","body",null,{"className":"__className_aaf875","children":[["$","header",null,{"className":"site-header md:fixed w-full md:w-[35%] md:h-full flex flex-col items-center lg:items-end p-4 lg:py-[8rem] lg:px-[4rem] text-center lg:text-right text-zinc-300","children":[["$","a",null,{"href":"/","children":["$","img",null,{"src":"/img/avatar.jpg","alt":"Avatar Photo","width":"150","class":"rounded-full"}]}],["$","h1",null,{"className":"text-[inherit] text-2xl lg:text-5xl mb-8","children":"I'm Carson"}],["$","p",null,{"className":"lg:ml-12","children":"I do web stuff and things, and also photography"}],["$","$L5",null,{}],["$","footer",null,{"className":"hidden md:block mt-[auto]","children":["© Carson Evans",["$","$L6",null,{"title":"Github","href":"https://github.com/carc1n0gen","target":"_blank","className":"ml-5","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 496 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"$7","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","$L6",null,{"title":"Instagram","href":"https://www.instagram.com/carsonphotosandstuff/","target":"_blank","className":"ml-5","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","a",null,{"title":"Atom Feed","href":"/feed.xml","target":"_blank","className":"ml-5","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}]]}]]}],["$","main",null,{"className":"md:ml-[35%] md:w-[65%] max-w-4xl py-[4rem] lg:py-[8rem] px-[2rem] lg:px-[4rem]","children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":["$","div",null,{"className":"mt-6 md:p-6 bg-white dark:bg-black md:border border-zinc-300 dark:border-zinc-600 ","children":[["$","h1",null,{"className":"font-bold text-3xl mb-4","children":"Not Found"}],["$","p",null,{"children":"Are you lost? There doesn't seem to be anything here"}]]}],"notFoundStyles":[],"childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2023","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2023","d"],"children",["month","07","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2023","d"],"children",["month","07","d"],"children",["day","22","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2023","d"],"children",["month","07","d"],"children",["day","22","d"],"children",["slug","how-i-used-recaptcha-in-nextjs","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L9",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$La",null],"segment":"__PAGE__?{\"year\":\"2023\",\"month\":\"07\",\"day\":\"22\",\"slug\":\"how-i-used-recaptcha-in-nextjs\"}"},"styles":[]}],"segment":["slug","how-i-used-recaptcha-in-nextjs","d"]},"styles":[]}],"segment":["day","22","d"]},"styles":[]}],"segment":["month","07","d"]},"styles":[]}],"segment":["year","2023","d"]},"styles":[]}]}],["$","footer",null,{"className":"bottom-footer px-4 py-12 md:hidden text-center text-zinc-300","children":[["$","$L6",null,{"title":"Github","href":"https://github.com/carc1n0gen","target":"_blank","className":"md:ml-5 text-4xl","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 496 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"$b","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","$L6",null,{"title":"Instagram","href":"https://www.instagram.com/carsonphotosandstuff/","target":"_blank","className":"ml-5 text-4xl","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","a",null,{"title":"Atom Feed","href":"/feed.xml","target":"_blank","className":"ml-5 text-4xl","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","div",null,{"className":"mt-4 text-2xl","children":"© Carson Evans"}]]}],["$","$Lc",null,{}]]}]]}],null]
11:I{"id":3376,"chunks":["95:static/chunks/95-50505accd77bb7f4.js","224:static/chunks/224-dafab8115ea515fd.js","106:static/chunks/app/[year]/[month]/[day]/[slug]/page-87024f47ad3ba280.js"],"name":"","async":false}
d:T7d4,<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>reCAPTCHA demo: Simple page<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://www.google.com/recaptcha/api.js&quot;</span> <span class="hljs-attr">async</span> <span class="hljs-attr">defer</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;?&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;g-recaptcha&quot;</span> <span class="hljs-attr">data-sitekey</span>=<span class="hljs-string">&quot;your_site_key&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>e:T547,<span class="hljs-keyword">import</span> <span class="hljs-title class_">ReCAPTCHA</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;react-google-recaptcha&quot;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyForm</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;?&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;POST&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReCAPTCHA</span> <span class="hljs-attr">sitekey</span>=<span class="hljs-string">&quot;your_site_key&quot;</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}f:Td84,<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyForm</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;light&quot;</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// You can use matchMedia to detect if dark mode is enabled</span>
    <span class="hljs-keyword">const</span> { matches } = <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>);
    <span class="hljs-title function_">setTheme</span>(matches ? <span class="hljs-string">&quot;dark&quot;</span> : <span class="hljs-string">&quot;light&quot;</span>);

    <span class="hljs-comment">// You can also use matchMedia to detect if light/dark mode has changed</span>
    <span class="hljs-keyword">const</span> handler = <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="hljs-title function_">addEventListener</span>(
      <span class="hljs-string">&quot;change&quot;</span>,
      <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">matches</span>) {
          <span class="hljs-title function_">setTheme</span>(<span class="hljs-string">&quot;dark&quot;</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">setTheme</span>(<span class="hljs-string">&quot;light&quot;</span>);
        }
      },
    );

    <span class="hljs-comment">// use the cleanup function to remove the event listener.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"></span>) {
      <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="hljs-title function_">removeEventListener</span>(
        <span class="hljs-string">&quot;change&quot;</span>,
        handler,
      );
    };
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;?&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReCAPTCHA</span> <span class="hljs-attr">sitekey</span>=<span class="hljs-string">&quot;your_site_key&quot;</span> <span class="hljs-attr">theme</span>=<span class="hljs-string">{theme}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}10:Te7a,<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyForm</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [key, setKey] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// Our new key state variable</span>
  <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">&quot;dark&quot;</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> { matches } = <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>);
    <span class="hljs-title function_">setTheme</span>(matches ? <span class="hljs-string">&quot;dark&quot;</span> : <span class="hljs-string">&quot;light&quot;</span>);

    <span class="hljs-keyword">const</span> handler = <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="hljs-title function_">addEventListener</span>(
      <span class="hljs-string">&quot;change&quot;</span>,
      <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">matches</span>) {
          <span class="hljs-title function_">setTheme</span>(<span class="hljs-string">&quot;dark&quot;</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">setTheme</span>(<span class="hljs-string">&quot;light&quot;</span>);
        }

        <span class="hljs-comment">// update the key&#x27;s value</span>
        <span class="hljs-title function_">setKey</span>(key + <span class="hljs-number">1</span>);
      },
    );

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"></span>) {
      <span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="hljs-title function_">removeEventListener</span>(
        <span class="hljs-string">&quot;change&quot;</span>,
        handler,
      );
    };
  }, [key]); <span class="hljs-comment">// Don&#x27;t forget to add key to the dependency array</span>

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;?&quot;</span> <span class="hljs-attr">method</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ReCAPTCHA</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{key}</span> <span class="hljs-attr">sitekey</span>=<span class="hljs-string">&quot;your_site_key&quot;</span> <span class="hljs-attr">theme</span>=<span class="hljs-string">{theme}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Submit&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}a:["$","article",null,{"className":"mb-16 last:mb-0","children":[["$","header",null,{"children":[["$","$L6",null,{"href":"/2023/07/22/how-i-used-recaptcha-in-nextjs","children":["$","h2",null,{"className":"text-2xl md:text-4xl font-normal mb-0","children":"How I Used Google reCaptcha In NextJS"}]}],["$","p",null,{"className":"ml-1 mb-4 text-sm","children":["posted by ","Carson Evans"," ·"," ","Jul 22, 2023"]}]]}],["$","section",null,{"children":["I recently migrated this website to NextJS and I ran in to a few hurdles along the way. Google reCaptcha gave me a few of those hurdles, and in this post I will explain how I overcame them.","\n",["$","p",null,{"className":"my-4","children":"Also on a side note: gosh it's been ages since I bothered to touch this site,\nlet alone write a new post. Migrating to NextJS was a nice exercise in learning\nthe framework, and a way to bring enthusiasm about it back. I hope to keep it up\nand keep posting."}],"\n",["$","h2",null,{"className":"text-2xl font-normal mt-6 mb-2","children":"So What Were Those Hurdles?"}],"\n",["$","p",null,{"className":"my-4","children":"One of those hurdles was how NextJS (or maybe React in general?) deal with the\nvirtual DOM and changes made from outside scripts. Next will raise am error if\nelements appear in the DOM that it was not expecting. Another issue I ran in to\nwas related to dark/light mode. When I migrated to NextJS, I decided I would\nalso implement a dark mode. When you initialize google reCaptcha, you can pass\na theme option, but this is only set once and is probably not meant to change."}],"\n",["$","h2",null,{"className":"text-2xl font-normal mt-6 mb-2","children":"The Virtual DOM Hurdle"}],"\n",["$","p",null,{"className":"my-4","children":"So in a plain html/js web page, you use google reCaptcha something like this:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs rounded-lg","dangerouslySetInnerHTML":{"__html":"$d"}}]}],"\n",["$","p",null,{"className":"my-4","children":["What happens here is once the reCaptcha script is loaded, it looks for an\nelement with the class ",["$","code",null,{"className":"font-bold","children":"g-recaptcha"}]," and injects additional things within it.\nThis causes unexpected nodes to be detected by NextJS and an error is thrown.\nLuckily there is a package that wraps this functionality in a React component to\navoid this sort of error. The package is called ",["$","a",null,{"href":"https://www.npmjs.com/package/react-google-recaptcha","className":"font-bold underline","children":"react-google-recaptcha"}],"\nand is used something like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs rounded-lg","dangerouslySetInnerHTML":{"__html":"$e"}}]}],"\n",["$","p",null,{"className":"my-4","children":"With this, the reCaptcha is loaded, and now works just like before!"}],"\n",["$","h2",null,{"className":"text-2xl font-normal mt-6 mb-2","children":"The Dynamically Changing Theme Hurdle"}],"\n",["$","p",null,{"className":"my-4","children":["I wanted the reCaptcha to automatically change between dark and light based on\nthe system settings of the user. There are media queries in CSS for changing the\nlook based on this preference, but how the heck does one detect this preference\nwith JavaScript? Well I found a fancy function called ",["$","code",null,{"className":"font-bold","children":"matchMedia"}]," which is used\nfor detecting if anything matches a CSS selector. On top of this, we can use\nan event listener to detect if weather the selector matches ever change like so:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs rounded-lg","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-title function_\">matchMedia</span>(<span class=\"hljs-string\">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class=\"hljs-title function_\">addEventListener</span>(\n  <span class=\"hljs-string\">&quot;change&quot;</span>,\n  <span class=\"hljs-function\">(<span class=\"hljs-params\">event</span>) =&gt;</span> {\n    <span class=\"hljs-keyword\">if</span> (e.<span class=\"hljs-property\">target</span>.<span class=\"hljs-property\">matches</span>) {\n      <span class=\"hljs-comment\">// Changed to dark mode</span>\n    } <span class=\"hljs-keyword\">else</span> {\n      <span class=\"hljs-comment\">// Changed to light mode</span>\n    }\n  },\n);"}}]}],"\n",["$","p",null,{"className":"my-4","children":["The ",["$","code",null,{"className":"font-bold","children":"ReCAPTCHA"}]," component accepts a ",["$","code",null,{"className":"font-bold","children":"theme"}]," prop for choosing weather the\ncaptcha should look dark or light. I tried using a state variable in combination\nwith a useEffect hook and the above event handler to update the theme whenever\nthe system theme changes like this:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs rounded-lg","dangerouslySetInnerHTML":{"__html":"$f"}}]}],"\n",["$","p",null,{"className":"my-4","children":["But this will not update the reCaptcha theme since it is meant to be initialized\njust once and then stay in that state. However react has a way to force a\ncomponent to re-mount, which will re-run all the stuff that happens within the\ncomponent. All components can be passed a ",["$","code",null,{"className":"font-bold","children":"key"}]," prop. If this key ever changes,\nthen the component it is passed to will re-mount. So I can use an additional\nstate variable for this key, and modify its value every time our theme change\nhandler is run:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs rounded-lg","dangerouslySetInnerHTML":{"__html":"$10"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Now the reCaptcha theme changes dynamically when the system colour theme\nchanges!"}],"\n",["$","p",null,{"className":"my-4","children":"This was just one of the many things I ran in to during my adventure of migrating\nmy blog to NextJS, and using NextJS to generate a static website. Stay tuned\nfor more!"}]]}],["$","footer",null,{"className":"mt-6","children":[["$","p",null,{"className":"mb-4 text-sm","children":["Updated"," ","Jul 12, 2024"]}],["$","$L11",null,{"title":"How I Used Google reCaptcha In NextJS","postUrl":"/2023/07/22/how-i-used-recaptcha-in-nextjs"}]]}]]}]
4:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"How I Used Google reCaptcha In NextJS - Carson's Blog"}],["$","meta","2",{"name":"description","content":"I recently migrated this website to NextJS and I ran in to a few hurdles along the way. Google reCaptcha gave me a few of those hurdles, and in this post I will explain how I overcame them."}],["$","meta","3",{"name":"keywords","content":"google recaptcha next nextjs react nodejs"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]]
