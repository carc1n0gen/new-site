1:HL["/_next/static/css/e792770ff49c9fe3.css",{"as":"style"}]
0:["_ucNXA9TyLpsfcSK-uj9z",[[["",{"children":[["year","2014","d"],{"children":[["month","06","d"],{"children":[["day","17","d"],{"children":[["slug","create-a-json-web-service-with-flight-php","d"],{"children":["__PAGE__?{\"year\":\"2014\",\"month\":\"06\",\"day\":\"17\",\"slug\":\"create-a-json-web-service-with-flight-php\"}",{}]}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/e792770ff49c9fe3.css","precedence":"next"}]],["$L3",null]]]]]
4:I{"id":7095,"chunks":["95:static/chunks/95-564ee2c3cce6bef5.js","467:static/chunks/app/archive/page-8c1650fc2ef227f1.js"],"name":"","async":false}
5:I{"id":2855,"chunks":["95:static/chunks/95-564ee2c3cce6bef5.js","185:static/chunks/app/layout-39519c6565a6f711.js"],"name":"","async":false}
6:I{"id":9180,"chunks":["272:static/chunks/webpack-b972465ad123f7a8.js","253:static/chunks/bce60fc1-ebeb496586ce224e.js","698:static/chunks/698-566acd7bad4a6521.js"],"name":"default","async":false}
7:I{"id":2306,"chunks":["272:static/chunks/webpack-b972465ad123f7a8.js","253:static/chunks/bce60fc1-ebeb496586ce224e.js","698:static/chunks/698-566acd7bad4a6521.js"],"name":"default","async":false}
a:I{"id":7409,"chunks":["95:static/chunks/95-564ee2c3cce6bef5.js","185:static/chunks/app/layout-39519c6565a6f711.js"],"name":"","async":false}
9:T518,M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z2:[["$","html",null,{"lang":"en","className":"dark:bg-black md:bg-zinc-50 md:dark:bg-zinc-800","children":[["$","link",null,{"rel":"alternate","type":"application/atom+xml","title":"Atom Feed for Carson's Blog","href":"/feed.xml"}],["$","body",null,{"className":"text-zinc-700 dark:text-zinc-300","children":[["$","header",null,{"className":"bg-white dark:bg-black text-center md:text-left mt-5 md:mt-0 md:pt-10 border-b border-b-zinc-300 dark:border-b-zinc-600","children":[["$","div",null,{"className":"md:max-w-screen-md px-2 md:px-0 mx-auto","children":[["$","img",null,{"src":"/img/avatar-new.jpg","alt":"Avatar photo","className":"rounded-full mx-auto md:float-right md:-mt-4","width":"100","height":"100"}],["$","div",null,{"className":"mt-5","children":[["$","$L4",null,{"href":"/","className":"mt-2","children":["$","h1",null,{"className":"text-5xl font-bold","children":"Carson's Blog"}]}],["$","p",null,{"className":"mt-2","children":"Somewhat coherent tutorials about web stuff and things."}]]}]]}],["$","$L5",null,{}]]}],["$","main",null,{"className":"px-4 py-2 md:p-0 md:max-w-screen-md mx-auto","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":["$","div",null,{"className":"mt-6 md:p-6 bg-white dark:bg-black md:border border-zinc-300 dark:border-zinc-600 undefined","children":[["$","h1",null,{"className":"font-bold text-3xl mb-4","children":"Not Found"}],["$","p",null,{"children":"Are you lost? There doesn't seem to be anything here"}]]}],"notFoundStyles":[],"childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2014","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2014","d"],"children",["month","06","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2014","d"],"children",["month","06","d"],"children",["day","17","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2014","d"],"children",["month","06","d"],"children",["day","17","d"],"children",["slug","create-a-json-web-service-with-flight-php","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L8",null],"segment":"__PAGE__?{\"year\":\"2014\",\"month\":\"06\",\"day\":\"17\",\"slug\":\"create-a-json-web-service-with-flight-php\"}"},"styles":[]}],"segment":["slug","create-a-json-web-service-with-flight-php","d"]},"styles":[]}],"segment":["day","17","d"]},"styles":[]}],"segment":["month","06","d"]},"styles":[]}],"segment":["year","2014","d"]},"styles":[]}]}],["$","footer",null,{"className":"mt-6 mb-6 flex items-center justify-center","children":["Â© Carson Evans"," ",["$","$L4",null,{"href":"https://github.com/carc1n0gen","target":"_blank","className":"ml-5","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 496 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"$9","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","$L4",null,{"href":"https://www.instagram.com/carsonphotosandstuff/","target":"_blank","className":"ml-3","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}],["$","a",null,{"href":"/feed.xml","target":"_blank","className":"ml-3","children":["$","svg",null,{"stroke":"currentColor","fill":"currentColor","strokeWidth":"0","viewBox":"0 0 448 512","className":"inline","children":["$undefined",[["$","path","0",{"d":"M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z","children":"$undefined"}]]],"style":{"color":"$undefined"},"height":"1em","width":"1em","xmlns":"http://www.w3.org/2000/svg"}]}]]}],["$","$La",null,{}]]}]]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Create a JSON Web Service With FlightPHP - Carson's Blog"}],["$","meta","2",{"name":"description","content":"Flight PHP is a micro framework for web applications. Flight requires PHP 5.3 or greater, and is released under the MIT license. Flight takes care of some of the most common tasks a web application might need such as; routing, named parameters with friendly URL's, views/layouts, and errors handling. Flight is built to be extremely extensible to go beyond those features."}],["$","meta","3",{"name":"keywords","content":"json php flight"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]]
c:I{"id":3376,"chunks":["95:static/chunks/95-564ee2c3cce6bef5.js","224:static/chunks/224-a739c60a74fa69d1.js","931:static/chunks/app/page-3b629a3a91b76fc6.js"],"name":"","async":false}
b:T653,<span class="hljs-keyword">require_once</span> <span class="hljs-string">&#x27;vendor/autoload.php&#x27;</span>;
<span class="hljs-comment">//require_once &#x27;flight/Flight.php&#x27;; // If you installed Flight manually</span>

<span class="hljs-title class_">Flight</span>::<span class="hljs-title function_ invoke__">route</span>(<span class="hljs-string">&#x27;GET /json-data&#x27;</span>, function() {
    <span class="hljs-variable">$db</span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_ invoke__">PDO</span>(<span class="hljs-string">&#x27;mysql:host=localhost;dbname=dbname&#x27;</span>, <span class="hljs-string">&#x27;username&#x27;</span>, <span class="hljs-string">&#x27;password&#x27;</span>);

    <span class="hljs-variable">$stmt</span> = <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">prepare</span>(<span class="hljs-string">&quot;SELECT * FROM posts&quot;</span>);
    <span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">execute</span>();

    <span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">&#x27;Content-type: application/json&#x27;</span>);
    <span class="hljs-keyword">echo</span> <span class="hljs-title function_ invoke__">json_encode</span>(<span class="hljs-variable">$stmt</span>-&gt;<span class="hljs-title function_ invoke__">fetchAll</span>());

    <span class="hljs-variable">$db</span> = <span class="hljs-literal">null</span>;
});

<span class="hljs-title class_">Flight</span>::<span class="hljs-title function_ invoke__">start</span>();8:["$","article",null,{"className":"mt-6 md:p-6 bg-white dark:bg-black md:border border-zinc-300 dark:border-zinc-600 undefined","children":[["$","header",null,{"children":[["$","$L4",null,{"href":"/2014/06/17/create-a-json-web-service-with-flight-php","children":["$","h2",null,{"className":"text-3xl font-bold mb-2","children":"Create a JSON Web Service With FlightPHP"}]}],["$","p",null,{"className":"mb-4 text-sm text-zinc-500","children":["posted by ","Carson Evans"," Â·"," ","Jun 17, 2014"]}]]}],["$","section",null,{"children":["Flight PHP is a micro framework for web applications. Flight requires PHP 5.3 or greater, and is released under the MIT license. Flight takes care of some of the most common tasks a web application might need such as; routing, named parameters with friendly URL's, views/layouts, and errors handling. Flight is built to be extremely extensible to go beyond those features.","\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"Installing Flight"}],"\n",["$","p",null,{"className":"my-4","children":"There are two ways to install Flight. With composer (recommended), or manually"}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Installing Flight with Composer"}],"\n",["$","p",null,{"className":"my-4","children":"Create a composer.json file with the following contents:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">&quot;require&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">&quot;mikecao/flight&quot;</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">&quot;1.*&quot;</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>"}}]}],"\n",["$","p",null,{"className":"my-4","children":["Then from the command line run: ",["$","code",null,{"className":"font-bold","children":"php composer.phar install"}]]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Install Flight manually"}],"\n",["$","p",null,{"className":"my-4","children":["From the Flight ",["$","a",null,{"href":"https://github.com/mikecao/flight","className":"font-bold underline","children":"github page"}],", download the zip of the repository and extract the framework files to your web app directory."]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Setting up your server"}],"\n",["$","p",null,{"className":"my-4","children":"For Apache web servers you will need to create or edit your .htaccess file with the following:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-attribute\">RewriteEngine</span> <span class=\"hljs-literal\">On</span>\n<span class=\"hljs-attribute\">RewriteCond</span> <span class=\"hljs-variable\">%{REQUEST_FILENAME}</span> !-f\n<span class=\"hljs-attribute\">RewriteCond</span> <span class=\"hljs-variable\">%{REQUEST_FILENAME}</span> !-d\n<span class=\"hljs-attribute\">RewriteRule</span> ^(.*)$ index.php<span class=\"hljs-meta\"> [QSA,L]</span>"}}]}],"\n",["$","p",null,{"className":"my-4","children":"For Nginx web servers edit your server declaration with the following:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-section\">server</span> {\n    <span class=\"hljs-section\">location</span> / {\n        <span class=\"hljs-attribute\">try_files</span> <span class=\"hljs-variable\">$uri</span> <span class=\"hljs-variable\">$uri</span>/ /index.php;\n    }\n}"}}]}],"\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"Flight hello world"}],"\n",["$","p",null,{"className":"my-4","children":"Create an index.php file in your web directory and start editing it. If you installed Flight with Composer then add the following to the top of the file:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-keyword\">require_once</span> <span class=\"hljs-string\">&#x27;vendor/autoload.php&#x27;</span>;"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Or, if you installed Flight manually then:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-keyword\">require_once</span> <span class=\"hljs-string\">&#x27;flight/Flight.php&#x27;</span>;"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Create a route for the index of the application:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-title class_\">Flight</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">&#x27;/&#x27;</span>, function(){\n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&#x27;hello world!&#x27;</span>;\n});"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Then start Flight:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-title class_\">Flight</span>::<span class=\"hljs-title function_ invoke__\">start</span>();"}}]}],"\n",["$","p",null,{"className":"my-4","children":"The complete code should look like this:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-keyword\">require_once</span> <span class=\"hljs-string\">&#x27;vendor/autoload.php&#x27;</span>;\n<span class=\"hljs-comment\">//require_once &#x27;flight/Flight.php&#x27;; // If you installed Flight manually</span>\n\n<span class=\"hljs-title class_\">Flight</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">&#x27;/&#x27;</span>, function(){\n    <span class=\"hljs-keyword\">echo</span> <span class=\"hljs-string\">&#x27;hello world!&#x27;</span>;\n});\n\n<span class=\"hljs-title class_\">Flight</span>::<span class=\"hljs-title function_ invoke__\">start</span>();"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Now open your browser and navigate to your web applications URL. You should see a \"hello world\" message"}],"\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"Create a JSON web service with Flight PHP"}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Preface"}],"\n",["$","p",null,{"className":"my-4","children":"This part of the tutorial assumes you have basic knowledge of PHP and MySQL and can do basic operations such as; connect to database through a shell or workbench, creating a database, creating tables, and query a MySQL database from PHP."}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Setting up the database"}],"\n",["$","p",null,{"className":"my-4","children":["First thing we are going to do is to set up a simple database. For this example I am going to using MySQL. Either in a MySQL console, or in MySQL workbench create a new database for this tutorial. Make sure the new database is selected with ",["$","code",null,{"className":"font-bold","children":"USE database"}]," replaceing \"database\" with the name you gave the database. Now execute the following:"]}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> posts (\n    id <span class=\"hljs-type\">int</span> unsigned <span class=\"hljs-keyword\">NOT</span> <span class=\"hljs-keyword\">NULL</span> AUTO_INCREMENT,\n    title <span class=\"hljs-type\">varchar</span>(<span class=\"hljs-number\">50</span>) <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-keyword\">NULL</span>,\n    body text,\n    published tinyint <span class=\"hljs-keyword\">DEFAULT</span> <span class=\"hljs-number\">0</span>,\n    <span class=\"hljs-keyword\">PRIMARY</span> KEY (id)\n);"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Then insert some data:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-keyword\">INSERT</span>\n  <span class=\"hljs-keyword\">INTO</span> posts (title, body)\n<span class=\"hljs-keyword\">VALUES</span> (&quot;Flight PHP&quot;, &quot;Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.&quot;);\n\n<span class=\"hljs-keyword\">INSERT</span>\n  <span class=\"hljs-keyword\">INTO</span> posts (title, body)\n<span class=\"hljs-keyword\">VALUES</span> (&quot;Dog and the Fox&quot;, &quot;The quick brown fox jumps over the lazy dog.&quot;);\n\n<span class=\"hljs-keyword\">INSERT</span>\n  <span class=\"hljs-keyword\">INTO</span> posts (title, body)\n<span class=\"hljs-keyword\">VALUES</span> (&quot;PHP&quot;, &quot;PHP is cool!&quot;);"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Create the Flight app"}],"\n",["$","p",null,{"className":"my-4","children":["Now it is time to create the Flight app. For this app, lets get our JSON data from the ",["$","code",null,{"className":"font-bold","children":"/json-data"}]," route."]}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-title class_\">Flight</span>::<span class=\"hljs-title function_ invoke__\">route</span>(<span class=\"hljs-string\">&#x27;GET /json-data&#x27;</span>, function() {\n\n});"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Connect to the database"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-variable\">$db</span> = <span class=\"hljs-keyword\">new</span> <span class=\"hljs-title function_ invoke__\">PDO</span>(<span class=\"hljs-string\">&#x27;mysql:host=localhost;dbname=db&#x27;</span>, <span class=\"hljs-string\">&#x27;username&#x27;</span>, <span class=\"hljs-string\">&#x27;password&#x27;</span>);"}}]}],"\n",["$","p",null,{"className":"my-4","children":"You will need to put your database name in place of \"db\" right after \"dbname=\", and replace the username/password with yours."}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Gather the data"}],"\n",["$","p",null,{"className":"my-4","children":"Next we will create a prepared statement and execute it."}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-variable\">$stmt</span> = <span class=\"hljs-variable\">$db</span>-&gt;<span class=\"hljs-title function_ invoke__\">prepare</span>(<span class=\"hljs-string\">&quot;SELECT * FROM posts&quot;</span>);\n<span class=\"hljs-variable\">$stmt</span>-&gt;<span class=\"hljs-title function_ invoke__\">execute</span>();"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Present the data"}],"\n",["$","p",null,{"className":"my-4","children":"And finally, we need to set the content type header to application/json to let the client that connects to this service know what type of data they are receiving. Then we display the results from the prepared statement is JSON format. At the very end close the database connection."}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-title function_ invoke__\">header</span>(<span class=\"hljs-string\">&#x27;Content-type: application/json&#x27;</span>);\n<span class=\"hljs-keyword\">echo</span> <span class=\"hljs-title function_ invoke__\">json_encode</span>(<span class=\"hljs-variable\">$stmt</span>-&gt;<span class=\"hljs-title function_ invoke__\">fetchAll</span>());\n\n<span class=\"hljs-variable\">$db</span> = <span class=\"hljs-literal\">null</span>;"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"Conclusion"}],"\n",["$","p",null,{"className":"my-4","children":"The final product should look something like this:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[24px]","children":["$","code",null,{"className":"hljs bg-zinc-100 dark:bg-zinc-700","dangerouslySetInnerHTML":{"__html":"$b"}}]}],"\n",["$","p",null,{"className":"my-4","children":"If you navigate to you the URL of your web app you should be able to see a JSON string representing each row of the database. Now using either an AJAX call, or a server side HTTP request you will be able to get this JSON data and parse it for a specific use."}],"\n",["$","p",null,{"className":"my-4","children":["$","a",null,{"href":"http://flightphp.com/learn","className":"font-bold underline","children":"Further reading"}]}]]}],["$","footer",null,{"className":"mt-6","children":["$","$Lc",null,{"title":"Create a JSON Web Service With FlightPHP","postUrl":"/2014/06/17/create-a-json-web-service-with-flight-php"}]}]]}]
