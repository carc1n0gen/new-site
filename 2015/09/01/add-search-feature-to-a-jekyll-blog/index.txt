1:HL["/_next/static/css/4c3ba0c712eb50f7.css",{"as":"style"}]
0:["yGS9fipq0y8quwisvDS90",[[["",{"children":[["year","2015","d"],{"children":[["month","09","d"],{"children":[["day","01","d"],{"children":[["slug","add-search-feature-to-a-jekyll-blog","d"],{"children":["__PAGE__?{\"year\":\"2015\",\"month\":\"09\",\"day\":\"01\",\"slug\":\"add-search-feature-to-a-jekyll-blog\"}",{}]}]}]}]}]},"$undefined","$undefined",true],"$L2",[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/4c3ba0c712eb50f7.css","precedence":"next"}]],["$L3",null]]]]]
4:I{"id":7095,"chunks":["95:static/chunks/95-b42e21927908bec6.js","224:static/chunks/224-45995354792692c9.js","106:static/chunks/app/[year]/[month]/[day]/[slug]/page-fd3e7a5daa90e646.js"],"name":"","async":false}
5:I{"id":7289,"chunks":["95:static/chunks/95-b42e21927908bec6.js","185:static/chunks/app/layout-3babe0f43a2270ad.js"],"name":"","async":false}
6:I{"id":9180,"chunks":["272:static/chunks/webpack-a2ef0b461975a909.js","253:static/chunks/bce60fc1-3d7875a7a6202410.js","698:static/chunks/698-4595f783858dddc6.js"],"name":"default","async":false}
7:I{"id":2306,"chunks":["272:static/chunks/webpack-a2ef0b461975a909.js","253:static/chunks/bce60fc1-3d7875a7a6202410.js","698:static/chunks/698-4595f783858dddc6.js"],"name":"default","async":false}
2:[["$","html",null,{"lang":"en","className":"dark:bg-black md:bg-zinc-50 md:dark:bg-zinc-800","children":["$","body",null,{"className":"text-zinc-700 dark:text-zinc-300","children":[["$","header",null,{"className":"bg-white dark:bg-black text-center md:text-left mt-5 md:mt-0 md:pt-10 border-b border-b-zinc-300 dark:border-b-zinc-600","children":[["$","div",null,{"className":"md:max-w-screen-md px-2 md:px-0 mx-auto","children":[["$","img",null,{"src":"/img/avatar-new.jpg","alt":"Avatar photo","className":"rounded-full mx-auto md:float-right md:-mt-4","width":"100","height":"100"}],["$","div",null,{"className":"mt-5","children":[["$","$L4",null,{"href":"/","className":"mt-2","children":["$","h1",null,{"className":"text-5xl font-bold","children":"Carson's Blog"}]}],["$","p",null,{"className":"mt-2","children":"Somewhat coherent tutorials about web stuff and things."}]]}]]}],["$","$L5",null,{}]]}],["$","main",null,{"className":"px-4 py-2 md:p-0 md:max-w-screen-md mx-auto","children":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":["$","section",null,{"className":"mt-6 p-6 bg-white border border-zinc-300","children":[["$","h1",null,{"className":"font-bold text-3xl mb-4","children":"Not Found"}],["$","p",null,{"children":"Are you lost? There doesn't seem to be anything here"}]]}],"notFoundStyles":[],"childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2015","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2015","d"],"children",["month","09","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2015","d"],"children",["month","09","d"],"children",["day","01","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$","$L6",null,{"parallelRouterKey":"children","segmentPath":["children",["year","2015","d"],"children",["month","09","d"],"children",["day","01","d"],"children",["slug","add-search-feature-to-a-jekyll-blog","d"],"children"],"error":"$undefined","errorStyles":"$undefined","loading":"$undefined","loadingStyles":"$undefined","hasLoading":false,"template":["$","$L7",null,{}],"templateStyles":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","childProp":{"current":["$L8",null],"segment":"__PAGE__?{\"year\":\"2015\",\"month\":\"09\",\"day\":\"01\",\"slug\":\"add-search-feature-to-a-jekyll-blog\"}"},"styles":[]}],"segment":["slug","add-search-feature-to-a-jekyll-blog","d"]},"styles":[]}],"segment":["day","01","d"]},"styles":[]}],"segment":["month","09","d"]},"styles":[]}],"segment":["year","2015","d"]},"styles":[]}]}],["$","footer",null,{"className":"mt-6 mb-4 text-center","children":"© Carson Evans"}]]}]}],null]
3:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Add Search Feature to a Jekyll Blog - Carson's Blog"}],["$","meta","2",{"name":"description","content":"In this post we will be creating a dynamic(ish) JSON file that we read through an AJAX call to implement searching on a Jekyll blog."}],["$","meta","3",{"name":"keywords","content":"jekyll search blog javascript"}],["$","meta","4",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","link","5",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"any"}]]
b:I{"id":4368,"chunks":["95:static/chunks/95-b42e21927908bec6.js","224:static/chunks/224-45995354792692c9.js","106:static/chunks/app/[year]/[month]/[day]/[slug]/page-fd3e7a5daa90e646.js"],"name":"","async":false}
9:T5d4,<span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Jekyll Is Cool&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/2015/08/24/jekyll-is-cool&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;PHP Is Also Cool&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/2015/08/15/php-is-also-cool&quot;</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;title&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Static Websites Are fast&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/2015/08/01/static-websites-are-fast&quot;</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>a:T10be,(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">var</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();
  <span class="hljs-keyword">var</span> searchBox = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;search-box&quot;</span>);
  <span class="hljs-keyword">var</span> resultBox = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;search-results&quot;</span>);
  <span class="hljs-keyword">var</span> posts;
  <span class="hljs-keyword">var</span> results;
  <span class="hljs-keyword">var</span> html = <span class="hljs-string">&quot;&quot;</span>;

  request.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
    <span class="hljs-comment">// the request is done and successful.</span>
    <span class="hljs-keyword">if</span> (request.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span> &amp;&amp; request.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) {
      <span class="hljs-comment">// parse the json response in to an array of objects.</span>
      posts = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(request.<span class="hljs-property">responseText</span>);

      <span class="hljs-comment">// filter the posts to those who&#x27;s title contains text from the search box.</span>
      results = posts.<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">post</span>) {
        <span class="hljs-keyword">if</span> (
          post.<span class="hljs-property">title</span>
            .<span class="hljs-title function_">toLowerCase</span>()
            .<span class="hljs-title function_">indexOf</span>(searchBox.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">toLowerCase</span>()) &gt; -<span class="hljs-number">1</span>
        ) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      });

      <span class="hljs-comment">// if there are results, show a list item and link for each result.</span>
      <span class="hljs-keyword">if</span> (results.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; searchBox.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>() != <span class="hljs-string">&quot;&quot;</span>) {
        html += <span class="hljs-string">&quot;&lt;ul&gt;&quot;</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; results.<span class="hljs-property">length</span>; i++) {
          html +=
            <span class="hljs-string">&#x27;&lt;li&gt;&lt;a href=&quot;&#x27;</span> +
            results[i].<span class="hljs-property">url</span> +
            <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> +
            results[i].<span class="hljs-property">title</span> +
            <span class="hljs-string">&quot;&lt;/a&gt;&lt;/li&gt;&quot;</span>;
        }
        html += <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span>;

        resultBox.<span class="hljs-property">innerHTML</span> = html;
      }
    }
  };

  <span class="hljs-comment">// detect input on the search box.</span>
  searchBox.<span class="hljs-property">onkeyup</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
    resultBox.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;&quot;</span>;
    html = <span class="hljs-string">&quot;&quot;</span>;
    results = [];
    request.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;GET&quot;</span>, <span class="hljs-string">&quot;/search.json&quot;</span>);
    request.<span class="hljs-title function_">send</span>();
  };
})();8:["$","article",null,{"className":"mt-6 md:p-6 bg-white dark:bg-black md:border border-zinc-300 dark:border-zinc-600","children":[["$","header",null,{"children":[["$","$L4",null,{"href":"/2015/09/01/add-search-feature-to-a-jekyll-blog","children":["$","h2",null,{"className":"text-3xl font-bold mb-2","children":"Add Search Feature to a Jekyll Blog"}]}],["$","p",null,{"className":"mb-4 text-sm text-zinc-500","children":["posted by ","Carson Evans"," ·"," ","Sep 1, 2015"]}]]}],["$","section",null,{"children":["In this post we will be creating a dynamic(ish) JSON file that we read through an AJAX call to implement searching on a Jekyll blog.","\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"What is Jekyll?"}],"\n",["$","p",null,{"className":"my-4","children":[["$","a",null,{"href":"https://github.com/jekyll/jekyll","className":"font-bold underline","children":"Jekyll"}]," is a static site generator. This\nmeans that you build a website using their templating language and other\nconventions, and then Jekyll will compile the site in to static html documents. It\nis sort of like caching output from PHP using the ob_start, ob_stop, etc... functions."]}],"\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"Why Use Javascript and Ajax?"}],"\n",["$","p",null,{"className":"my-4","children":"Jekyll websites are static files. There is no backend scripting language like\nPHP or anything. This means that in Jekyll, you can't make a search form that\nsubmits to some backend script with logic to capture form input values."}],"\n",["$","p",null,{"className":"my-4","children":"Instead, we use Jekyll templating to generate a JSON file that contains the\nmetadata information about the blog posts. Then we use AJAX to get the\ncontents of this JSON file, and use the text of a search box to filter down\nto relevant posts."}],"\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"The Code"}],"\n",["$","p",null,{"className":"my-4","children":"There are three parts to the code. First we use liquid templating to generate a\nJSON file containing metadata about all the posts, second we need to write some\nJavaScript that will get that metadata through AJAX, and last some html."}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"The JSON"}],"\n",["$","p",null,{"className":"my-4","children":["Create a ",["$","code",null,{"className":"font-bold","children":"search.json"}]," file at the root with the following content:"]}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[25px]","children":["$","code",null,{"className":"hljs","dangerouslySetInnerHTML":{"__html":"---\n---\n[{% <span class=\"hljs-keyword\">for</span> post <span class=\"hljs-keyword\">in</span> site.posts %}\n    {\n        <span class=\"hljs-string\">&quot;title&quot;</span>:<span class=\"hljs-string\">&quot;{{post.title}}&quot;</span>,\n        <span class=\"hljs-string\">&quot;url&quot;</span>:<span class=\"hljs-string\">&quot;{{post.url}}&quot;</span>\n    }{% <span class=\"hljs-keyword\">if</span> forloop.last == false %},{% endif %}\n{% endfor %}]"}}]}],"\n",["$","p",null,{"className":"my-4","children":"Sample generated JSON file:"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[25px]","children":["$","code",null,{"className":"hljs","dangerouslySetInnerHTML":{"__html":"$9"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"The JavaScript"}],"\n",["$","p",null,{"className":"my-4","children":"I have commented the key parts of this code. In summary, we create an AJAX request,\nparse the JSON response to an array of objects, then using the search box value we\nfilter to matching posts."}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[25px]","children":["$","code",null,{"className":"hljs","dangerouslySetInnerHTML":{"__html":"$a"}}]}],"\n",["$","h3",null,{"className":"text-xl font-bold mt-6 mb-2","children":"The HTML"}],"\n",["$","pre",null,{"className":"my-4 -mx-4 md:-mx-[25px]","children":["$","code",null,{"className":"hljs","dangerouslySetInnerHTML":{"__html":"<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">label</span> <span class=\"hljs-attr\">for</span>=<span class=\"hljs-string\">&quot;search-box&quot;</span>&gt;</span>Search<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">label</span>&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">input</span> <span class=\"hljs-attr\">type</span>=<span class=\"hljs-string\">&quot;text&quot;</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;search-box&quot;</span> <span class=\"hljs-attr\">placeholder</span>=<span class=\"hljs-string\">&quot;Search for a post...&quot;</span> /&gt;</span>\n<span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">id</span>=<span class=\"hljs-string\">&quot;search-results&quot;</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>"}}]}],"\n",["$","h2",null,{"className":"text-2xl font-bold mt-6 mb-2","children":"Demo"}],"\n",["$","p",null,{"className":"my-4","children":[["$","a",null,{"href":"https://github.com/carc1n0gen/tutorial-apps/tree/master/jekyll-search","className":"font-bold underline","children":"Here"}]," is full working code for a sample app that is out of the box ready to be run, to demonstrate all this put together."]}]]}],["$","footer",null,{"className":"mt-6","children":["$","$Lb",null,{"title":"Add Search Feature to a Jekyll Blog","postUrl":"/2015/09/01/add-search-feature-to-a-jekyll-blog"}]}]]}]
